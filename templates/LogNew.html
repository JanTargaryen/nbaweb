<!DOCTYPE HTML>
<html lang="zxx">

<head>
    <title>Login</title>
    <!-- Meta tag Keywords -->
    <link rel="stylesheet" type="text/css" href="../static/css/nbaFirst.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
    <link rel="stylesheet" href="../static/css/login.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
            crossorigin="anonymous"></script>
    <meta charset="UTF-8"/>
    <meta name="keywords"
          content="Triple Forms Responsive Widget,Login form widgets, Sign up Web forms , Login signup Responsive web form,Flat Pricing table,Flat Drop downs,Registration Forms,News letter Forms,Elements"/>
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>

    <!-- Meta tag Keywords -->

    <!-- css files -->
    <link rel="stylesheet" href="../static/css/style.css" type="text/css" media="all"/>
    <!-- Style-CSS -->
    <link href="../static/css/font-awesome.min.css" rel="stylesheet">
    <!-- Font-Awesome-Icons-CSS -->
    <!-- //css files -->

    <!-- web-fonts -->
    <link href="//fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i&amp;subset=cyrillic,cyrillic-ext,greek,greek-ext"
          rel="stylesheet">
    <!-- //web-fonts -->
</head>

<body>
<div class="header">
    <div class="w1200">
        <div class="header-right">
            <img src="../static/img/nba-icon.png" width="26" height="42">
            <span>联系电话:666-666-6666</span>
        </div>
    </div>
</div>

<div class="main-bg">
    <!-- title -->
    <!-- //title -->
    <div class="sub-main-w3">
        <div class="image-style">

        </div>
        <!-- vertical tabs -->
        <div class="vertical-tab">
            <div id="section1" class="section-w3ls">
                <input type="radio" name="sections" id="option1" checked>
                <label for="option1" class="icon-left-w3pvt"><span class="fa fa-user-circle" aria-hidden="true"></span>登录</label>
                <article>

                    <form action="/login/" method="post" id="login_form" onsubmit="return loginCheck();">


                        <h3 class="legend">登录</h3>
                        <div class="input">
                            <span class="fa fa-user-circle" aria-hidden="true"></span>
                            <input type="text" placeholder="用户名" name="username" required/>
                        </div>
                        <div class="input">
                            <span class="fa fa-key" aria-hidden="true"></span>
                            <input type="password" placeholder="密码" name="password" required/>
                        </div>
                        {% if message %}
                            <div class="alert alert-warning">{{ message }}</div>
                        {% endif %}
                        {% csrf_token %}
                        <a href="nbaFirst.html">
                            <button type="submit" class="btn submit">登录</button>
                        </a>
                        <a href="#" class="bottom-text-w3ls">忘记密码?</a>

                    </form>
                </article>

            </div>

            <div id="section2" class="section-w3ls">
                <input type="radio" name="sections" id="option2">
                <label for="option2" class="icon-left-w3pvt"><span class="fa fa-pencil-square"
                                                                   aria-hidden="true"></span>注册</label>
                <article>
                    <form action="/deal/" method="post">
                        <h3 class="legend">注册</h3>
                        <div class="input">
                            <span class="fa fa-user-o" aria-hidden="true"></span>
                            <input type="text" placeholder="用户名" name="username" required/>
                        </div>
                        <div class="input">
                            <span class="fa fa-key" aria-hidden="true"></span>
                            <input type="password" placeholder="密码" name="password" required/>
                        </div>
                        <div class="input">
                            <span class="fa fa-key" aria-hidden="true"></span>
                            <input type="password" placeholder="确认密码" name="comfirmpassword" required/>
                        </div>

                        <button type="submit" class="btn submit">注册</button>
                    </form>
                </article>
            </div>
            <div id="section3" class="section-w3ls">
                <input type="radio" name="sections" id="option3">
                <label for="option3" class="icon-left-w3pvt"><span class="fa fa-phone"
                                                                   aria-hidden="true"></span>手机号登录</label>
                <article>
                    <form action="" method="post">
                        <h3 class="legend last">手机号登录</h3>

                        <div class="input">
                            <span class="fa fa-phone" aria-hidden="true"></span>
                            <input type="text" placeholder="手机号" name="phonenumber" required/>
                        </div>
                        <div class="input">
                            <span class="fa fa-envelope-o" aria-hidden="true"></span>
                            <input type="text" placeholder="短信验证码" name="mesg" required/>
                        </div>
                        <br>
                        <br>
                        <button type="submit" class="btn submit last-btn">重设</button>
                    </form>
                </article>
            </div>
        </div>
        <!-- //vertical tabs -->
        <div class="clear"></div>
    </div>

</div>
<script type="text/javascript">
    //https://blog.csdn.net/u012157999/article/details/75171833
    //登录前校验用户名和密码是否正确
    function loginCheck() {
        var name = $("#loginUser").attr("value");    //用户名
        var pwd = $("#loginPwd").attr("value");      //密码
        var datas = {};                  //返回来的结果
        $.ajax({
            type: "post",
            contentType: "application/string",
            dataType: "json",
            async: false,
            url: "${base}/loginResult.htm?name=" + name + "&pwd=" + pwd,
            success: function (data) {

                datas = eval("(" + data + ")");

            }
        });

        if (datas.result == "nameFalse") {                 //用户名不正确
            layer.tips('用户名不存在！', '#loginUser', {
                tips: [2, '#FF3030'],
                time: 2000
            });
            return false;
        } else if (datas.result == "pwdFalse") {            //密码不正确

            layer.tips('密码不正确	！', '#loginPwd', {
                tips: [2, '#ff3030'],
                time: 2000
            });
            return false;
        } else {
            return true;
        }

    }
</script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
        integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
        crossorigin="anonymous"></script>
</body>

</html>